# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã ByFly Pay

## –ß—Ç–æ –Ω–æ–≤–æ–≥–æ

### üéØ –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –æ–ø–ª–∞—Ç—ã

**–†–∞–Ω—å—à–µ:**
- –ê–¥–º–∏–Ω —Å–æ–∑–¥–∞–≤–∞–ª –ø–ª–∞—Ç–µ–∂ ‚Üí –≤—ã–±–∏—Ä–∞–ª —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã ‚Üí —Å–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–∞ Kaspi QR
- –ê–¥–º–∏–Ω –æ—Ç–¥–∞–≤–∞–ª Kaspi-—Å—Å—ã–ª–∫—É –∫–ª–∏–µ–Ω—Ç—É

**–¢–µ–ø–µ—Ä—å:**
- –ê–¥–º–∏–Ω —Å–æ–∑–¥–∞–µ—Ç –ø–ª–∞—Ç–µ–∂ ‚Üí –ø–æ–ª—É—á–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ **–Ω–∞—à—É —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã**
- –ö–ª–∏–µ–Ω—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ –Ω–∞—à—É —Å—Ç—Ä–∞–Ω–∏—Ü—É ‚Üí –≤–∏–¥–∏—Ç –≤—Å–µ —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã ‚Üí –≤—ã–±–∏—Ä–∞–µ—Ç —Å–∞–º
- –í–∏–¥–∏—Ç —É—Å–ª–æ–≤–∏—è –∫—Ä–µ–¥–∏—Ç–∞/—Ä–∞—Å—Å—Ä–æ—á–∫–∏ ‚Üí –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç
- –í –∞–¥–º–∏–Ω–∫–µ –≤–∏–¥–Ω–∞ **–ø–æ–ª–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞**: IP, –±—Ä–∞—É–∑–µ—Ä, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –≤—Ä–µ–º—è –∏ —Ç.–¥.

### ‚ú® –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

1. **–ü—É–±–ª–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–ø–ª–∞—Ç—ã** (`/pay/{transaction_id}`)
   - –ö—Ä–∞—Å–∏–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
   - –í—ã–±–æ—Ä —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã
   - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–∏—Å—Å–∏—è—Ö
   - –£—Å–ª–æ–≤–∏—è –∫—Ä–µ–¥–∏—Ç–∞ –∏ —Ä–∞—Å—Å—Ä–æ—á–∫–∏

2. **–ü–æ–ª–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞**
   - IP –∞–¥—Ä–µ—Å
   - –ë—Ä–∞—É–∑–µ—Ä (Chrome, Safari, Firefox –∏ —Ç.–¥.)
   - –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (mobile, tablet, desktop)
   - –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
   - User Agent
   - –°—Ç—Ä–∞–Ω–∞ (–≥–æ—Ç–æ–≤–æ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å GeoIP)
   - –í—Ä–µ–º—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–ø–ª–∞—Ç—ã

3. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –∞–¥–º–∏–Ω–∫–∞**
   - –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–ü—Ä–∏–Ω—è—Ç—å –æ–ø–ª–∞—Ç—É" - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Å—ã–ª–∫—É –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ —Å QR –∫–æ–¥–æ–º
   - –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏" - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–∂–¥–æ–º –ø–ª–∞—Ç–µ–∂–µ
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

### 1. –û–±–Ω–æ–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–ª–∏–µ–Ω—Ç–µ:

```bash
mysql -u payments -p payments < database/migration-client-info.sql
```

–ü–∞—Ä–æ–ª—å: `2350298aweA`

### 2. –°–æ–±—Ä–∞—Ç—å –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å

```bash
# –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
npm run build

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏
./build.sh
```

### 3. –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä

1. –§–∞–π–ª `deploy.zip` –≥–æ—Ç–æ–≤ –∫ –∑–∞–≥—Ä—É–∑–∫–µ
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
3. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –≤ –∫–æ—Ä–Ω–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å: `https://byfly-pay.com/`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–ü—Ä–∏–Ω—è—Ç—å –æ–ø–ª–∞—Ç—É"
3. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂
4. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—É—é —Å—Å—ã–ª–∫—É –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã –∫–ª–∏–µ–Ω—Ç–∞
6. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –∞–¥–º–∏–Ω–∫—É ‚Üí "–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏"
7. –ö–ª–∏–∫–Ω–∏—Ç–µ "–ü–æ–¥—Ä–æ–±–Ω–µ–µ" –Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
8. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –æ –∫–ª–∏–µ–Ω—Ç–µ –∑–∞–ø–∏—Å–∞–ª–∏—Å—å

## –ù–æ–≤—ã–π —Ñ–ª–æ—É —Ä–∞–±–æ—Ç—ã

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

1. **–°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞**
   - –û—Ç–∫—Ä—ã–≤–∞–µ–º "–ü—Ä–∏–Ω—è—Ç—å –æ–ø–ª–∞—Ç—É"
   - –í–≤–æ–¥–∏–º —Å—É–º–º—É –Ω–∞ —Ü–∏—Ñ—Ä–æ–≤–æ–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ
   - –ü–∏—à–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–û–ø–ª–∞—Ç–∞ –∑–∞ —Ç—É—Ä –≤ –¢—É—Ä—Ü–∏—é")
   - –ù–∞–∂–∏–º–∞–µ–º "–°–æ–∑–¥–∞—Ç—å —Å—Å—ã–ª–∫—É –¥–ª—è –æ–ø–ª–∞—Ç—ã"

2. **–û—Ç–ø—Ä–∞–≤–∫–∞ –∫–ª–∏–µ–Ω—Ç—É**
   - –ö–æ–ø–∏—Ä—É–µ–º —Å—Å—ã–ª–∫—É –∏–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º QR –∫–æ–¥
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–ª–∏–µ–Ω—Ç—É —á–µ—Ä–µ–∑ WhatsApp –∏–ª–∏ –¥—Ä—É–≥–æ–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä
   - –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫–Ω–æ–ø–∫—É "WhatsApp" –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
   - –°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –í–∏–¥–∏–º –∫–æ–≥–¥–∞ –∫–ª–∏–µ–Ω—Ç –æ—Ç–∫—Ä—ã–ª —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã
   - –í–∏–¥–∏–º –∫–æ–≥–¥–∞ –æ–ø–ª–∞—Ç–∏–ª
   - –ü–æ–ª—É—á–∞–µ–º –ø–æ–ª–Ω—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É

### –î–ª—è –∫–ª–∏–µ–Ω—Ç–∞

1. **–ü–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–µ**
   - –ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —Å—Å—ã–ª–∫—É –æ—Ç –≤–∞—Å
   - –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã

2. **–í—ã–±–æ—Ä —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã**
   - –í–∏–¥–∏—Ç —Å—É–º–º—É –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞
   - –í—ã–±–∏—Ä–∞–µ—Ç —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–±:
     - üí∞ Kaspi Gold (1% –∫–æ–º–∏—Å—Å–∏—è)
     - üí≥ Kaspi Red (1% –∫–æ–º–∏—Å—Å–∏—è)
     - üè¶ Kaspi –ö—Ä–µ–¥–∏—Ç (14% –≥–æ–¥–æ–≤—ã—Ö)
     - üìÖ Kaspi —Ä–∞—Å—Å—Ä–æ—á–∫–∞ 0-0-12 (–∫–æ–º–∏—Å—Å–∏—è –±–∞–Ω–∫–∞ 14%, –Ω–µ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞)
     - üìÜ Kaspi —Ä–∞—Å—Å—Ä–æ—á–∫–∞ 0-0-24 (–∫–æ–º–∏—Å—Å–∏—è –±–∞–Ω–∫–∞ 14%, –Ω–µ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞)

3. **–û–ø–ª–∞—Ç–∞**
   - –í–∏–¥–∏—Ç –∏—Ç–æ–≥–æ–≤—É—é —Å—É–º–º—É —Å –∫–æ–º–∏—Å—Å–∏–µ–π
   - –°–∫–∞–Ω–∏—Ä—É–µ—Ç QR –∫–æ–¥ –≤ Kaspi
   - –ò–ª–∏ –Ω–∞–∂–∏–º–∞–µ—Ç "–û—Ç–∫—Ä—ã—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ Kaspi"
   - –û–ø–ª–∞—á–∏–≤–∞–µ—Ç

4. **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ**
   - –í–∏–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
   - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

## –û—Ç–ª–∏—á–∏—è –æ—Ç —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏

| –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è | –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è |
|---------------|--------------|
| –ê–¥–º–∏–Ω –≤—ã–±–∏—Ä–∞–µ—Ç —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã | –ö–ª–∏–µ–Ω—Ç –≤—ã–±–∏—Ä–∞–µ—Ç —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã |
| –ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ Kaspi | –°—Å—ã–ª–∫–∞ –Ω–∞ –Ω–∞—à—É —Å—Ç—Ä–∞–Ω–∏—Ü—É |
| –ù–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–ª–∏–µ–Ω—Ç–µ | –ü–æ–ª–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ |
| –ù–µ—Ç –≤—ã–±–æ—Ä–∞ —É—Å–ª–æ–≤–∏–π | –ö–ª–∏–µ–Ω—Ç –≤–∏–¥–∏—Ç –≤—Å–µ —É—Å–ª–æ–≤–∏—è |
| –°—Ç–∞—Ç–∏—á–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è | –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –∫–æ–º–∏—Å—Å–∏–∏ |
| –ù–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ | –í–∏–¥–∏–º —Å –∫–∞–∫–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –æ–ø–ª–∞—Ç–∏–ª |

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏

### –î–ª—è –±–∏–∑–Ω–µ—Å–∞
- ‚úÖ –ü–æ–ª–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π
- ‚úÖ –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∞—É–¥–∏—Ç–æ—Ä–∏–∏ (—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, –±—Ä–∞—É–∑–µ—Ä—ã)
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ (–æ—Ç–∫—Ä—ã–ª/–Ω–µ –æ—Ç–∫—Ä—ã–ª/–æ–ø–ª–∞—Ç–∏–ª)
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞ (IP –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)

### –î–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚úÖ –°–≤–æ–±–æ–¥–∞ –≤—ã–±–æ—Ä–∞ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã
- ‚úÖ –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å —É—Å–ª–æ–≤–∏–π –∏ –∫–æ–º–∏—Å—Å–∏–π
- ‚úÖ –£–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –æ–ø–ª–∞—Ç–∞ –≤ 2 –∫–ª–∏–∫–∞

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–µ–π
- ‚úÖ QR –∫–æ–¥ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–æ–≤
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º –ø–ª–∞—Ç–µ–∂–µ
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –∫–ª–∏–µ–Ω—Ç–∞

## –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –Ω–æ–≤—ã—Ö –ø–ª–∞—Ç–µ–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º:

- ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ –ü—É–±–ª–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–ø–ª–∞—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª—é–±—ã–µ —Å–ø–æ—Å–æ–±—ã
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞–Ω –∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- ‚úÖ API –≥–æ—Ç–æ–≤ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Click, Payme, PayBox –∏ –¥—Ä.

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –ø–ª–∞—Ç–µ–∂–Ω—É—é —Å–∏—Å—Ç–µ–º—É

1. –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü—É `payment_methods`
2. –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ (–∫–∞–∫ `KaspiTerminal.php`)
3. –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –≤ `Transaction.php`
4. –ò–∫–æ–Ω–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ–ø–ª–∞—Ç—ã

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –ù–æ–≤—ã–µ –ø–æ–ª—è –≤ —Ç–∞–±–ª–∏—Ü–µ `transactions`

```sql
client_ip              varchar(50)     -- IP –∞–¥—Ä–µ—Å –∫–ª–∏–µ–Ω—Ç–∞
client_user_agent      varchar(500)    -- User Agent
client_device          varchar(100)    -- mobile, tablet, desktop
client_browser         varchar(100)    -- Chrome, Safari, Firefox –∏ —Ç.–¥.
client_os              varchar(100)    -- Windows, MacOS, iOS, Android –∏ —Ç.–¥.
client_country         varchar(100)    -- –°—Ç—Ä–∞–Ω–∞ (–≥–æ—Ç–æ–≤–æ –∫ GeoIP)
payment_started_at     datetime        -- –ö–æ–≥–¥–∞ –∫–ª–∏–µ–Ω—Ç –æ—Ç–∫—Ä—ã–ª —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã
```

## API

### –ù–æ–≤—ã–µ –ø—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

```
GET  /api/payment/{id}                - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–ª–∞—Ç–µ–∂–µ (–ø—É–±–ª–∏—á–Ω—ã–π)
GET  /api/payment/{id}/status         - –°—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–∞ (–ø—É–±–ª–∏—á–Ω—ã–π)
POST /api/payment/{id}/kaspi          - –ò–Ω–∏—Ü–∏–∞—Ü–∏—è Kaspi –ø–ª–∞—Ç–µ–∂–∞ (–ø—É–±–ª–∏—á–Ω—ã–π)
POST /api/payment/{id}/track-visit    - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ—Å–µ—â–µ–Ω–∏—è (–ø—É–±–ª–∏—á–Ω—ã–π)
GET  /api/payment-methods/active      - –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã (–ø—É–±–ª–∏—á–Ω—ã–π)
```

## –†–æ—É—Ç–∏–Ω–≥

### –ù–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã

```
/pay/:id  - –ü—É–±–ª–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–ø–ª–∞—Ç—ã –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
```

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (F12 ‚Üí Console)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ PHP (error_log)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—É `transaction_logs` –≤ –ë–î
4. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏—è –ë–î –≤—ã–ø–æ–ª–Ω–µ–Ω–∞

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫

- [ ] –í—ã–ø–æ–ª–Ω–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –ë–î
- [ ] –ü—Ä–æ–µ–∫—Ç —Å–æ–±—Ä–∞–Ω –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç
- [ ] –°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂
- [ ] –û—Ç–∫—Ä—ã—Ç–∞ –ø—É–±–ª–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–ø–ª–∞—Ç—ã
- [ ] –î–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–∞ –∑–∞–ø–∏—Å–∞–ª–∏—Å—å –≤ –ë–î
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –æ–ø–ª–∞—Ç–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω–∞–ª—ã)

---

**–í–µ—Ä—Å–∏—è**: 2.0  
**–î–∞—Ç–∞**: 25.12.2025  
**–ê–≤—Ç–æ—Ä**: ByFly Travel Payment Center Development Team

